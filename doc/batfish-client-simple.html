<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Simple manual for the Batfish client</title>
</head>
<body>

    <h2>Simple manual for the Batfish client</h2>

    <h3>Pre-requisites
    </h3>

    Java 1.7 or higher.

    <h3>Starting the client
    </h3>


    To start the Batfish client run:
    <br />
    <b><i>% java -jar batfish-client.jar [options]</i></b>

    <p>
        Run with the '-help' option to see the complete list of options. The commonly-used ones are:
    </p>

    <table border="1" cellpadding="5">
        <tr>
            <td><i>-apikey &lt;key&gt;</i></td>
            <td>Specify the API key</td>
        </tr>
        <tr>
            <td><i>-cmdfile &lt;filename&gt;</i></td>
            <td>Runs in batch mode and executes commands from the specified file. By default, the client starts in interactive mode, where you can enter commands one at a time.</td>
        </tr>
        <tr>
            <td><i>-logfile &lt;filename&gt;</i></td>
            <td>File to which the log should be written. Useful when running in batch mode.</td>
        </tr>
    </table>

    <p>
        These and all other options can also be programmed in the <i>client.properties</i> file, which should be placed in the same directory as the client jar file.
    </p>

    <h3>Using the client
    </h3>

    Once the client is running, you can see the full list of supported commands using the "help" command. Common commands are listed below, in the order in which they will be used for typical analysis.

    <p>

    <table border="1" cellpadding=5>
        <tr>
            <td style="width: 320px"><i>init-testrig &lt;zipfile or directory&gt;</i></td>
            <td>Uploads and processes the testrig. The testrig directory should contain a sub-directory called configs, which contains all device configurations. In parallel to that directory, you can supply other optional information (e.g., topology or device roles). See an example testrig <a href="http://github.com/arifogel/batfish/tree/master/test_rigs/example">here</a>. The zipfile is expected to be a zipped version of such a testrig directory.</td>
        </tr>
<!--        <tr>
            <td><i>generate-dataplane</i></td>
            <td>Generates the dataplane for the supplied testrig. This is needed for asking questions related to forwarding behavior of the network, and not needed for configuration-level questions (e.g., IP address configuration).</td>
        </tr>-->
        <tr>
            <td><i>answer &lt;questionfile&gt; [param1=value1] ...</i></td>
            <td>Answers the question specified in the file. See <a href="../batfish-questions.html">here</a> for a list of example questions that we support. If the question has parameters, those can be supplied as the name=value pairs.</td>
        </tr>
        <tr>
            <td><i>init-diff-environment &lt;zipfile or directory&gt;</i></td>
            <td>Uploads and processes the delta testrig, which captures the planned differences from the base testrig. This directory should be prepared as the base testrig above, but can omit configuration files that have not changed. See <a href="https://github.com/arifogel/batfish/tree/master/example_environments/delta">here</a> for a delta testrig for the example testrig above (<a href="http://github.com/arifogel/batfish/tree/master/test_rigs/example">this one</a>).</td>
        </tr>
<!--        <tr>
            <td><i>generate-diff-dataplane</i></td>
            <td>Generates the dataplane for the delta testrig.</td>
        </tr>-->
        <tr>
            <td><i>answer-diff &lt;questionfile&gt; [param1=value1] ... </i></td>
            <td>Answers questions about the delta testrig. 
<!--                If a question is non-differential (i.e., not about differences between base and delta testrigs), the <i>answer</i> command will answer with respect to the base environment. Use the <i>answer-diff</i> command to answer non-differential questions about the delta testrig. For differential questions, either command can be used.-->
            </td>
        </tr>
        <tr>
            <td><i>quit</i></td>
            <td>Quit the client. 
            </td>
        </tr>
    </table>

    <p>
        Send questions or feedback to <a href="mailto:feedback@batfish.org">feedback@batfish.org</a>.
    </p>
</body>
</html>
